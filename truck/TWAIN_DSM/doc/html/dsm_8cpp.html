<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Twain_DSM: dsm.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>dsm.cpp File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Data Source Manager. 
<p>
This software manages the interactions between the application and the Source. <dl compact><dt><b>Author:</b></dt><dd>JFL Peripheral Solutions Inc. </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>October 2005 </dd></dl>

<p>
Definition in file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
<code>#include &quot;stdafx.h&quot;</code><br>
<code>#include &lt;direct.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;sys/stat.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;iostream&gt;</code><br>
<code>#include &lt;fstream&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;twain/twain.h&quot;</code><br>
<code>#include &quot;<a class="el" href="dsmdefs_8h-source.html">dsmdefs.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dsm_8h-source.html">dsm.h</a>&quot;</code><br>
<code>#include &quot;resource.h&quot;</code><br>

<p>
Include dependency graph for dsm.cpp:<p><center><img src="dsm_8cpp__incl.png" border="0" usemap="#dsm.cpp_map" alt=""></center>
<map name="dsm.cpp_map">
<area href="visual__studio__2005_2stdafx_8h-source.html" shape="rect" coords="139,7,208,34" alt="">
<area href="twain_8h-source.html" shape="rect" coords="267,539,365,566" alt="">
<area href="dsmdefs_8h.html" shape="rect" coords="132,564,215,591" alt="">
<area href="dsm_8h.html" shape="rect" coords="144,615,203,642" alt="">
<area href="resource_8h-source.html" shape="rect" coords="131,666,216,692" alt="">
</map>

<p>
<a href="dsm_8cpp-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><b>std</b></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#a72b5d2715fa48220edcbb894df6b463">kLOG</a>&nbsp;&nbsp;&nbsp;if(0 != <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &amp;&amp; <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a>-&gt;is_open()) *<a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &lt;&lt; &quot;DSM [&quot; &lt;&lt; gOurPid &lt;&lt; &quot;]: &quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define to write PID to LogFile.  <a href="#a72b5d2715fa48220edcbb894df6b463"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#4af57f29119205f8a40cd631d3a7e032">kLOGERR</a>&nbsp;&nbsp;&nbsp;if(0 != <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &amp;&amp; <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a>-&gt;is_open()) *<a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &lt;&lt; &quot;DSM [&quot; &lt;&lt; gOurPid &lt;&lt; &quot;]: Error - &quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define to write error to LogFile.  <a href="#4af57f29119205f8a40cd631d3a7e032"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#e62b35eda4fad54b1928fa578b3aa9c2">kLOGENV</a>&nbsp;&nbsp;&nbsp;&quot;TWAIN_LOG&quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enviroment varible of path to where to write the LogFile name.  <a href="#e62b35eda4fad54b1928fa578b3aa9c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5e8dfed95a684750d27343381d9f8c12"></a><!-- doxytag: member="dsm.cpp::kTWAIN_DS_DIR" ref="5e8dfed95a684750d27343381d9f8c12" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#5e8dfed95a684750d27343381d9f8c12">kTWAIN_DS_DIR</a>&nbsp;&nbsp;&nbsp;&quot;c:\\windows\\twain_32&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="863bc61162c172980c5b369a8a64418f"></a><!-- doxytag: member="dsm.cpp::TRACECOUNTLIMIT" ref="863bc61162c172980c5b369a8a64418f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#863bc61162c172980c5b369a8a64418f">TRACECOUNTLIMIT</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Limit to the number of times to report the same message in a row to the log file. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#bbdef667ceb3cb5424c14fd07efb21dd">DSM_Null</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pOrigin, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pDest, TW_UINT16 _MSG)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles DAT_NULL calls from DS for Application.  <a href="#bbdef667ceb3cb5424c14fd07efb21dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#108aa28bfe9128ab27d8e5e3fc3aebaf">scanDSDir</a> (char *_szAbsPath, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structDS__LIST.html">pDS_LIST</a> _pList)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scan for Data Sources.  <a href="#108aa28bfe9128ab27d8e5e3fc3aebaf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#798fef7de803d0a7e9c8c615fdbf1eea">DSM_Status</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, TW_UINT16 _MSG, <a class="el" href="structTW__STATUS.html">pTW_STATUS</a> _pStatus)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current DSM status.  <a href="#798fef7de803d0a7e9c8c615fdbf1eea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#a44ab2e81853c2a7352a91e3f542f5c6">DSM_Parent</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, TW_UINT16 _MSG)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes or closes the DSM.  <a href="#a44ab2e81853c2a7352a91e3f542f5c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#f9713025040f399ad28a4e280d9a5bb7">DSM_Identity</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, TW_UINT16 _MSG, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Source operations.  <a href="#f9713025040f399ad28a4e280d9a5bb7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#c4824709a89ce0f31f9f15603bdaa48d">DSM_Callback</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, TW_UINT16 _MSG, <a class="el" href="structTW__CALLBACK.html">pTW_CALLBACK</a> _pData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register application's callback.  <a href="#c4824709a89ce0f31f9f15603bdaa48d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#50d2da44e016d1a1ececa8357c3d4f29">DSM_InitializeDSM</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the DSM.  <a href="#50d2da44e016d1a1ececa8357c3d4f29"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#eb01f399d5aef68a5231229cc80829b4">OpenDS</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opens the Data Source specified by pDSIdentity.  <a href="#eb01f399d5aef68a5231229cc80829b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#5b2529dc6844449eb5560b0f68a39937">CloseDS</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the Data Source specified by pDSIdentity.  <a href="#5b2529dc6844449eb5560b0f68a39937"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#8cb3b3faec177a1cc902def63f892b79">DSM_SelectDS</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Displays the source select dialog and sets the default source.  <a href="#8cb3b3faec177a1cc902def63f892b79"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#afdc094c70146d2988ddc67ee08298b2">EntryDS</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity, TW_UINT32 _DG, TW_UINT16 _DAT, TW_UINT16 _MSG, TW_MEMREF _pData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calls the DS, _pSourceIdentity's, entry point with the operation.  <a href="#afdc094c70146d2988ddc67ee08298b2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#738bd71a11e38de25094584b8d2c243c">LoadDS</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, char *_pPath, TW_INT16 _index, <a class="el" href="structDS__LIST.html">pDS_LIST</a> _pList)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads a DS from disk and adds it to a global list of DS's.  <a href="#738bd71a11e38de25094584b8d2c243c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#7c841b1d9a57e77b22a2aaf5a78815f2">UnLoadAllDS</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UnLoads a DS from disk to remove them memory.  <a href="#7c841b1d9a57e77b22a2aaf5a78815f2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#fd2d9abc3115143298ecd88c5974da42">GetDSFromProductName</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Goes through the applications supported data sources looking for one that has the exact same name as product name in the passed in identity.  <a href="#fd2d9abc3115143298ecd88c5974da42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#c7c1874a18c61e4d88e020cedcc3aa94">LoadAllDataSources</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structDS__LIST.html">pDS_LIST</a> _pList)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads all the datasources found in the /usr/lib/twain directory.  <a href="#c7c1874a18c61e4d88e020cedcc3aa94"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#25fb28d12b903479535515387adde5d0">SupportedMatch</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns TRUE if the two identities support the same groups  <a href="#25fb28d12b903479535515387adde5d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#ce8cced59081aa02e57e6d3c969f94d5">DSM_GetFirst</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copies the applications first available source into _pSourceIdentity.  <a href="#ce8cced59081aa02e57e6d3c969f94d5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#aed56229345c051c1500eee8c9f55305">DSM_GetNext</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copies the applications next available source into _pSourceIdentity.  <a href="#aed56229345c051c1500eee8c9f55305"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#cf4a1fd18d2caafb1a7de88ecba2afab">GetMatchingDefault</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pSourceIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This routine will check if the current default source matches the applications supported groups.  <a href="#cf4a1fd18d2caafb1a7de88ecba2afab"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#f803eab9bf60870b52a44127de24ec91">AddApplication</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an application.  <a href="#f803eab9bf60870b52a44127de24ec91"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structAPP__INFO.html">pAPP_INFO</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#536a09bd6c21c5878a1f9b7313a3eca7">findApplicationByName</a> (pTW_STR32 _pName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Searches the list of registered applications for one that matches by name.  <a href="#536a09bd6c21c5878a1f9b7313a3eca7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_UINT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#e77f69cd5a9efa7683e07bb81e424ad0">getConditionCode</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">gets the current condition code for the application.  <a href="#e77f69cd5a9efa7683e07bb81e424ad0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#504a3e9d86dba3333f8c32f9f6d10a4b">setConditionCode</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pAppIdentity, TW_UINT16 _ConditionCode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sets the condition code for the application.  <a href="#504a3e9d86dba3333f8c32f9f6d10a4b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#868b0320392455cc6766e14d2c7bab12">printTripletsInfo</a> (const TW_UINT32 _DG, const TW_UINT16 _DAT, const TW_UINT16 _MSG, const TW_MEMREF _pData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">prints to stdout information about the triplets.  <a href="#868b0320392455cc6766e14d2c7bab12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#92959e187d12b1470d7899c6498c8fc9">printReturnCode</a> (const TW_UINT16 rc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">prints to stdout return code information.  <a href="#92959e187d12b1470d7899c6498c8fc9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#64a0f7db2839cdeaff166583d31b7996">StringFromMsg</a> (const TW_UINT16 _MSG)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translates the _MSG passed in into a string and returns it.  <a href="#64a0f7db2839cdeaff166583d31b7996"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#0f66379c704db754860b72a7a8df5e81">StringFromDat</a> (const TW_UINT16 _DAT)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translates the _DAT passed in into a string and returns it.  <a href="#0f66379c704db754860b72a7a8df5e81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#620e15d5ff1c8c596e563ef4d2c7de6a">StringFromDG</a> (const TW_UINT32 _DG)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translates the _DG passed in into a string and returns it.  <a href="#620e15d5ff1c8c596e563ef4d2c7de6a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#9e58b44743cbac1b1fecb7f264eb91d5">StringFromCap</a> (const TW_UINT16 _Cap)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translates the _Cap passed in into a string and returns it.  <a href="#9e58b44743cbac1b1fecb7f264eb91d5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#84fe3ba26a0fc001597b1ae82769de97">StringFromRC</a> (const TW_UINT16 rc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translates the rc passed in into a string and returns it.  <a href="#84fe3ba26a0fc001597b1ae82769de97"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#893e676872a5110b8ecbff84fa6e99a2">StringFromCC</a> (const TW_UINT16 cc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translates the cc passed in into a string and returns it.  <a href="#893e676872a5110b8ecbff84fa6e99a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_UINT16 FAR PASCAL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#464117d3336928ea88050ad58e480ae4">DSM_Entry</a> (<a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pOrigin, <a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> _pDest, TW_UINT32 _DG, TW_UINT16 _DAT, TW_UINT16 _MSG, TW_MEMREF _pData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data Source Manager Entry Point.  <a href="#464117d3336928ea88050ad58e480ae4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">BOOL CALLBACK&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#bd3b2b927edd91b7596dadebeece0129">SelectDlgProc</a> (HWND hWnd, UINT Message, WPARAM wParam, LPARAM lParam)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select DS process for dialog to allow user to select default DS.  <a href="#bd3b2b927edd91b7596dadebeece0129"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ofstream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global pointer to logfile.  <a href="#3a3b3b82c0c7bbe0d217661778f5bdaf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">DWORD&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#05d5448e7ae3f9f6ff48b76c39825715">gOurPid</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global pointer to store PID.  <a href="#05d5448e7ae3f9f6ff48b76c39825715"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2f84f2f9ae2be8128aa873506eadafbe"></a><!-- doxytag: member="dsm.cpp::g_hinstDLL" ref="2f84f2f9ae2be8128aa873506eadafbe" args="" -->
HINSTANCE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#2f84f2f9ae2be8128aa873506eadafbe">g_hinstDLL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_INT16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#d7b7de190f95ab3def7bbb0286eb13e5">_gConditionCode</a> = TWCC_SUCCESS</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the non-application specific condition code.  <a href="#d7b7de190f95ab3def7bbb0286eb13e5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#9d5668b97fc31481bdac668eecb545d6">_gFrameworkInitialized</a> = FALSE</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A global status indicating frameworks status.  <a href="#9d5668b97fc31481bdac668eecb545d6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structAPP__LIST.html">APP_LIST</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#989913391daf6f2242bea3fad4e74cfa">_gApplications</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A global list of application using this DSM.  <a href="#989913391daf6f2242bea3fad4e74cfa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#6bc385ca03d3f2a27e1376c1d67a7aaa">_gDefaultDSPath</a> [MAX_PATH]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The path to the default DS.  <a href="#6bc385ca03d3f2a27e1376c1d67a7aaa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TW_STR32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#60f4da5c3d0621d10645495de11c2f1f">_gDefaultDSName</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The name of the default DS.  <a href="#60f4da5c3d0621d10645495de11c2f1f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#3d2dcae4d0d8e6e3f09a2248b643cce8">g_pSelectDlgSourceID</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDS__LIST.html">pDS_LIST</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsm_8cpp.html#d862616a9d73ac0c177071dffa299d8b">g_pSelectDlgDSList</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a72b5d2715fa48220edcbb894df6b463"></a><!-- doxytag: member="dsm.cpp::kLOG" ref="a72b5d2715fa48220edcbb894df6b463" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define kLOG&nbsp;&nbsp;&nbsp;if(0 != <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &amp;&amp; <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a>-&gt;is_open()) *<a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &lt;&lt; &quot;DSM [&quot; &lt;&lt; gOurPid &lt;&lt; &quot;]: &quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Define to write PID to LogFile. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a>, <a class="el" href="dsm_8cpp.html#05d5448e7ae3f9f6ff48b76c39825715">gOurPid</a>, <a class="el" href="dsm_8cpp.html#4af57f29119205f8a40cd631d3a7e032">kLOGERR</a>, <a class="el" href="dsm_8cpp.html#e62b35eda4fad54b1928fa578b3aa9c2">kLOGENV</a> </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00090">90</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01851">DSM_Null()</a>, <a class="el" href="dsm_8cpp-source.html#l01383">LoadDS()</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="e62b35eda4fad54b1928fa578b3aa9c2"></a><!-- doxytag: member="dsm.cpp::kLOGENV" ref="e62b35eda4fad54b1928fa578b3aa9c2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define kLOGENV&nbsp;&nbsp;&nbsp;&quot;TWAIN_LOG&quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enviroment varible of path to where to write the LogFile name. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a>, <a class="el" href="dsm_8cpp.html#05d5448e7ae3f9f6ff48b76c39825715">gOurPid</a>, <a class="el" href="dsm_8cpp.html#a72b5d2715fa48220edcbb894df6b463">kLOG</a>, <a class="el" href="dsm_8cpp.html#4af57f29119205f8a40cd631d3a7e032">kLOGERR</a> </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00102">102</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00833">DSM_InitializeDSM()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="4af57f29119205f8a40cd631d3a7e032"></a><!-- doxytag: member="dsm.cpp::kLOGERR" ref="4af57f29119205f8a40cd631d3a7e032" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define kLOGERR&nbsp;&nbsp;&nbsp;if(0 != <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &amp;&amp; <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a>-&gt;is_open()) *<a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> &lt;&lt; &quot;DSM [&quot; &lt;&lt; gOurPid &lt;&lt; &quot;]: Error - &quot;          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Define to write error to LogFile. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a>, <a class="el" href="dsm_8cpp.html#05d5448e7ae3f9f6ff48b76c39825715">gOurPid</a>, <a class="el" href="dsm_8cpp.html#a72b5d2715fa48220edcbb894df6b463">kLOG</a>, <a class="el" href="dsm_8cpp.html#e62b35eda4fad54b1928fa578b3aa9c2">kLOGENV</a> </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00096">96</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>, and <a class="el" href="dsm_8cpp-source.html#l01383">LoadDS()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="f803eab9bf60870b52a44127de24ec91"></a><!-- doxytag: member="dsm.cpp::AddApplication" ref="f803eab9bf60870b52a44127de24ec91" args="(pTW_IDENTITY _pAppIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 AddApplication           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_pAppIdentity</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds an application. 
<p>
Adds an application to the global list of applications. Adding the application will assign a unique ID to it, and also determine the compatible sources that it can use. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>The application identity </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01656">1656</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00071">kOUT</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00156">APP_LIST::NumApps</a>, <a class="el" href="dsmdefs_8h-source.html#l00142">APP_INFO::OpenSource</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, and <a class="el" href="dsmdefs_8h-source.html#l00139">APP_INFO::pOrigin</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="5b2529dc6844449eb5560b0f68a39937"></a><!-- doxytag: member="dsm.cpp::CloseDS" ref="5b2529dc6844449eb5560b0f68a39937" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 CloseDS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Closes the Data Source specified by pDSIdentity. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td><a class="el" href="structTW__IDENTITY.html">TW_IDENTITY</a> structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00948">948</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00108">DS_INFO::bOpen</a>, <a class="el" href="dsmdefs_8h-source.html#l00141">APP_INFO::CurrentState</a>, <a class="el" href="dsmdefs_8h-source.html#l00118">DS_INFO::DS_Entry</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00091">dsmState_Open</a>, <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00142">APP_INFO::OpenSource</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="c4824709a89ce0f31f9f15603bdaa48d"></a><!-- doxytag: member="dsm.cpp::DSM_Callback" ref="c4824709a89ce0f31f9f15603bdaa48d" args="(pTW_IDENTITY _pAppIdentity, TW_UINT16 _MSG, pTW_CALLBACK _pData)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_Callback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__CALLBACK.html">pTW_CALLBACK</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pData</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register application's callback. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>message id: MSG_xxxx valid = MSG_REGISTER_CALLBACK </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pData</em>&nbsp;</td><td>pointer to a callback struct </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00805">805</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00099">CallBackInfo::callback</a>, <a class="el" href="dsmdefs_8h-source.html#l00144">APP_INFO::Callback</a>, <a class="el" href="twain_8h-source.html#l00607">TW_CALLBACK::CallBackProc</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="twain_8h-source.html#l00608">TW_CALLBACK::RefCon</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="464117d3336928ea88050ad58e480ae4"></a><!-- doxytag: member="dsm.cpp::DSM_Entry" ref="464117d3336928ea88050ad58e480ae4" args="(pTW_IDENTITY _pOrigin, pTW_IDENTITY _pDest, TW_UINT32 _DG, TW_UINT16 _DAT, TW_UINT16 _MSG, TW_MEMREF _pData)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_UINT16 FAR PASCAL DSM_Entry           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pOrigin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pDest</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>_DG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_DAT</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_MEMREF&nbsp;</td>
          <td class="mdname" nowrap> <em>_pData</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Data Source Manager Entry Point. 
<p>
The only entry point into the Data Source Manager. Defined in <a class="el" href="twain_8h-source.html">twain.h</a><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pOrigin</em>&nbsp;</td><td>Identifies the source module of the message. This could identify an Application, a Source, or the Source Manager.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pDest</em>&nbsp;</td><td>Identifies the destination module for the message. This could identify an application or a data source. If this is NULL, the message goes to the Source Manager.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DG</em>&nbsp;</td><td>The Data Group. Example: DG_IMAGE.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DAT</em>&nbsp;</td><td>The Data Attribute Type. Example: DAT_IMAGEMEMXFER.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>The message. Messages are interpreted by the destination module with respect to the Data Group and the Data Attribute Type. Example: MSG_GET.</td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>_pData</em>&nbsp;</td><td>A pointer to the data structure or variable identified by the Data Attribute Type. Example: (TW_MEMREF)&amp;ImageMemXfer where ImageMemXfer is a <a class="el" href="structTW__IMAGEMEMXFER.html">TW_IMAGEMEMXFER</a> structure.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code. Example: TWRC_SUCCESS. </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00490">490</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsm_8cpp-source.html#l00404">_gFrameworkInitialized</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00100">CallBackInfo::bCallbackPending</a>, <a class="el" href="dsmdefs_8h-source.html#l00099">CallBackInfo::callback</a>, <a class="el" href="dsmdefs_8h-source.html#l00144">APP_INFO::Callback</a>, <a class="el" href="dsm_8cpp-source.html#l00805">DSM_Callback()</a>, <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>, <a class="el" href="dsm_8cpp-source.html#l00833">DSM_InitializeDSM()</a>, <a class="el" href="dsm_8cpp-source.html#l01851">DSM_Null()</a>, <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>, <a class="el" href="dsm_8cpp-source.html#l00616">DSM_Status()</a>, <a class="el" href="dsmdefs_8h-source.html#l00091">dsmState_Open</a>, <a class="el" href="dsm_8cpp-source.html#l01168">EntryDS()</a>, <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="twain_8h-source.html#l00609">TW_CALLBACK::Message</a>, <a class="el" href="dsm_8cpp-source.html#l01839">printReturnCode()</a>, <a class="el" href="dsm_8cpp-source.html#l01775">printTripletsInfo()</a>, <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ce8cced59081aa02e57e6d3c969f94d5"></a><!-- doxytag: member="dsm.cpp::DSM_GetFirst" ref="ce8cced59081aa02e57e6d3c969f94d5" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_GetFirst           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copies the applications first available source into _pSourceIdentity. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>The origin identity structure </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td>the identity structure to copy data into </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01520">1520</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00109">DS_INFO::Identity</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsmdefs_8h-source.html#l00142">APP_INFO::OpenSource</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="aed56229345c051c1500eee8c9f55305"></a><!-- doxytag: member="dsm.cpp::DSM_GetNext" ref="aed56229345c051c1500eee8c9f55305" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_GetNext           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copies the applications next available source into _pSourceIdentity. 
<p>
A call to DSM_GetFirst must have been made at least once before calling this function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>The origin identity structure </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td>the identity structure to copy data into </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01545">1545</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00109">DS_INFO::Identity</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsmdefs_8h-source.html#l00142">APP_INFO::OpenSource</a>, and <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="f9713025040f399ad28a4e280d9a5bb7"></a><!-- doxytag: member="dsm.cpp::DSM_Identity" ref="f9713025040f399ad28a4e280d9a5bb7" args="(pTW_IDENTITY _pAppIdentity, TW_UINT16 _MSG, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_Identity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Source operations. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>message id: MSG_xxxx </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td><a class="el" href="structTW__IDENTITY.html">TW_IDENTITY</a> structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00755">755</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsm_8cpp-source.html#l00948">CloseDS()</a>, <a class="el" href="dsmdefs_8h-source.html#l00141">APP_INFO::CurrentState</a>, <a class="el" href="dsm_8cpp-source.html#l01520">DSM_GetFirst()</a>, <a class="el" href="dsm_8cpp-source.html#l01545">DSM_GetNext()</a>, <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>, <a class="el" href="dsmdefs_8h-source.html#l00091">dsmState_Open</a>, <a class="el" href="dsm_8cpp-source.html#l01576">GetMatchingDefault()</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsm_8cpp-source.html#l00868">OpenDS()</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="50d2da44e016d1a1ececa8357c3d4f29"></a><!-- doxytag: member="dsm.cpp::DSM_InitializeDSM" ref="50d2da44e016d1a1ececa8357c3d4f29" args="(pTW_IDENTITY _pAppIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_InitializeDSM           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_pAppIdentity</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the DSM. 
<p>
Clear globals and open data sources. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00833">833</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00080">gOurPid</a>, <a class="el" href="dsm_8cpp-source.html#l00072">gpLogFile</a>, and <a class="el" href="dsm_8cpp-source.html#l00102">kLOGENV</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="bbdef667ceb3cb5424c14fd07efb21dd"></a><!-- doxytag: member="dsm.cpp::DSM_Null" ref="bbdef667ceb3cb5424c14fd07efb21dd" args="(pTW_IDENTITY _pOrigin, pTW_IDENTITY _pDest, TW_UINT16 _MSG)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_Null           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pOrigin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pDest</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handles DAT_NULL calls from DS for Application. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pOrigin</em>&nbsp;</td><td>Origin of message in this case a DS </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pDest</em>&nbsp;</td><td>destination of message in this case an App </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>message id: MSG_xxxx </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>I don't like how we only store the last message for the app. If multiple DS's make a callback to a single app, we are going to lose MSG's. </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01851">1851</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00100">CallBackInfo::bCallbackPending</a>, <a class="el" href="dsmdefs_8h-source.html#l00099">CallBackInfo::callback</a>, <a class="el" href="dsmdefs_8h-source.html#l00144">APP_INFO::Callback</a>, <a class="el" href="twain_8h-source.html#l00607">TW_CALLBACK::CallBackProc</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsm_8cpp-source.html#l00090">kLOG</a>, <a class="el" href="twain_8h-source.html#l00609">TW_CALLBACK::Message</a>, <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a44ab2e81853c2a7352a91e3f542f5c6"></a><!-- doxytag: member="dsm.cpp::DSM_Parent" ref="a44ab2e81853c2a7352a91e3f542f5c6" args="(pTW_IDENTITY _pAppIdentity, TW_UINT16 _MSG)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_Parent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes or closes the DSM. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Orgin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>message id: MSG_xxxx </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00643">643</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsm_8cpp-source.html#l00404">_gFrameworkInitialized</a>, <a class="el" href="dsm_8cpp-source.html#l01656">AddApplication()</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00141">APP_INFO::CurrentState</a>, <a class="el" href="dsmdefs_8h.html#513232ae32b4d545c93a45ccae469462aad64de0004a318b7671bebd6aaba09b">dsmState_Loaded</a>, <a class="el" href="dsmdefs_8h-source.html#l00091">dsmState_Open</a>, <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="dsm_8cpp-source.html#l01694">findApplicationByName()</a>, <a class="el" href="dsm_8cpp-source.html#l00072">gpLogFile</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsm_8cpp-source.html#l01226">LoadAllDataSources()</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00156">APP_LIST::NumApps</a>, <a class="el" href="dsmdefs_8h-source.html#l00142">APP_INFO::OpenSource</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, <a class="el" href="dsmdefs_8h-source.html#l00139">APP_INFO::pOrigin</a>, <a class="el" href="twain_8h-source.html#l00359">TW_IDENTITY::ProductName</a>, <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>, and <a class="el" href="dsm_8cpp-source.html#l01482">UnLoadAllDS()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="8cb3b3faec177a1cc902def63f892b79"></a><!-- doxytag: member="dsm.cpp::DSM_SelectDS" ref="8cb3b3faec177a1cc902def63f892b79" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_SelectDS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Displays the source select dialog and sets the default source. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td><a class="el" href="structTW__IDENTITY.html">TW_IDENTITY</a> structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01079">1079</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="visual__studio__2003_2TWAIN__DSM_8cpp-source.html#l00019">g_hinstDLL</a>, <a class="el" href="dsm_8cpp-source.html#l00990">g_pSelectDlgDSList</a>, <a class="el" href="dsm_8cpp-source.html#l00989">g_pSelectDlgSourceID</a>, <a class="el" href="dsm_8cpp-source.html#l01195">GetDSFromProductName()</a>, <a class="el" href="dsm_8cpp-source.html#l01576">GetMatchingDefault()</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsm_8cpp-source.html#l00096">kLOGERR</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, <a class="el" href="twain_8h-source.html#l00359">TW_IDENTITY::ProductName</a>, <a class="el" href="dsm_8cpp-source.html#l01000">SelectDlgProc()</a>, <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>, and <a class="el" href="dsmdefs_8h-source.html#l00119">DS_INFO::szPath</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="798fef7de803d0a7e9c8c615fdbf1eea"></a><!-- doxytag: member="dsm.cpp::DSM_Status" ref="798fef7de803d0a7e9c8c615fdbf1eea" args="(pTW_IDENTITY _pAppIdentity, TW_UINT16 _MSG, pTW_STATUS _pStatus)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 DSM_Status           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__STATUS.html">pTW_STATUS</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pStatus</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the current DSM status. 
<p>
Resets _gConditionCode to TWCC_SUCCESS. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>message id: MSG_xxxx </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_pStatus</em>&nbsp;</td><td><a class="el" href="structTW__STATUS.html">TW_STATUS</a> structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00616">616</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="twain_8h-source.html#l00457">TW_STATUS::ConditionCode</a>, <a class="el" href="dsm_8cpp-source.html#l01715">getConditionCode()</a>, <a class="el" href="twain_8h-source.html#l00458">TW_STATUS::Reserved</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="afdc094c70146d2988ddc67ee08298b2"></a><!-- doxytag: member="dsm.cpp::EntryDS" ref="afdc094c70146d2988ddc67ee08298b2" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity, TW_UINT32 _DG, TW_UINT16 _DAT, TW_UINT16 _MSG, TW_MEMREF _pData)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 EntryDS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>_DG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_DAT</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_MEMREF&nbsp;</td>
          <td class="mdname" nowrap> <em>_pData</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calls the DS, _pSourceIdentity's, entry point with the operation. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td>Data Source destination of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DG</em>&nbsp;</td><td>data group id: DG_xxxx </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DAT</em>&nbsp;</td><td>data argument type: DAT_xxxx </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>message id: MSG_xxxx </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>_pData</em>&nbsp;</td><td>pointer to data </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01168">1168</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00118">DS_INFO::DS_Entry</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00076">MAX_NUM_DS</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="536a09bd6c21c5878a1f9b7313a3eca7"></a><!-- doxytag: member="dsm.cpp::findApplicationByName" ref="536a09bd6c21c5878a1f9b7313a3eca7" args="(pTW_STR32 _pName)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structAPP__INFO.html">pAPP_INFO</a> findApplicationByName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pTW_STR32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_pName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Searches the list of registered applications for one that matches by name. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pName</em>&nbsp;</td><td>the name of the application to find </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the matching application or NULL if not found. </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01694">1694</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00139">APP_INFO::pOrigin</a>, and <a class="el" href="twain_8h-source.html#l00359">TW_IDENTITY::ProductName</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="e77f69cd5a9efa7683e07bb81e424ad0"></a><!-- doxytag: member="dsm.cpp::getConditionCode" ref="e77f69cd5a9efa7683e07bb81e424ad0" args="(pTW_IDENTITY _pAppIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_UINT16 getConditionCode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_pAppIdentity</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
gets the current condition code for the application. 
<p>
If the application cannot be determined, then the global condition code is returned. The condition code that is retrieved is then reset to TWCC_SUCCESS. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>The application identity </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the condition code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01715">1715</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsm_8cpp-source.html#l00398">_gConditionCode</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00140">APP_INFO::ConditionCode</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, and <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00616">DSM_Status()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="fd2d9abc3115143298ecd88c5974da42"></a><!-- doxytag: member="dsm.cpp::GetDSFromProductName" ref="fd2d9abc3115143298ecd88c5974da42" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 GetDSFromProductName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Goes through the applications supported data sources looking for one that has the exact same name as product name in the passed in identity. 
<p>
Will update the _pSourceIdentity structure to match the name. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td><a class="el" href="structTW__IDENTITY.html">TW_IDENTITY</a> structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01195">1195</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00109">DS_INFO::Identity</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, and <a class="el" href="twain_8h-source.html#l00359">TW_IDENTITY::ProductName</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>, and <a class="el" href="dsm_8cpp-source.html#l00868">OpenDS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="cf4a1fd18d2caafb1a7de88ecba2afab"></a><!-- doxytag: member="dsm.cpp::GetMatchingDefault" ref="cf4a1fd18d2caafb1a7de88ecba2afab" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 GetMatchingDefault           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This routine will check if the current default source matches the applications supported groups. 
<p>
If it does it will copy it into the default Source's identity (_pSourceIdentity), otherwise this routine will search for a source that does match the app's supported groups and copy it into _pSourceIdentity. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>The application identity </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td>A pointer reference that will be set to point to the default identity. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01576">1576</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsm_8cpp-source.html#l00426">_gDefaultDSName</a>, <a class="el" href="dsm_8cpp-source.html#l00420">_gDefaultDSPath</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00109">DS_INFO::Identity</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>, <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>, and <a class="el" href="dsm_8cpp-source.html#l00868">OpenDS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="c7c1874a18c61e4d88e020cedcc3aa94"></a><!-- doxytag: member="dsm.cpp::LoadAllDataSources" ref="c7c1874a18c61e4d88e020cedcc3aa94" args="(pTW_IDENTITY _pAppIdentity, pDS_LIST _pList)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 LoadAllDataSources           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structDS__LIST.html">pDS_LIST</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pList</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Loads all the datasources found in the /usr/lib/twain directory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_pList</em>&nbsp;</td><td>the data source list to add the opened data sources too </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01226">1226</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsmdefs_8h-source.html#l00129">DS_LIST::Initialized</a>, <a class="el" href="dsm_8cpp-source.html#l00105">kTWAIN_DS_DIR</a>, <a class="el" href="dsm_8cpp-source.html#l01245">scanDSDir()</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="738bd71a11e38de25094584b8d2c243c"></a><!-- doxytag: member="dsm.cpp::LoadDS" ref="738bd71a11e38de25094584b8d2c243c" args="(pTW_IDENTITY _pAppIdentity, char *_pPath, TW_INT16 _index, pDS_LIST _pList)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 LoadDS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>_pPath</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_INT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_index</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structDS__LIST.html">pDS_LIST</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pList</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Loads a DS from disk and adds it to a global list of DS's. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pPath</em>&nbsp;</td><td>The path to the library to open </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_index</em>&nbsp;</td><td>the source array index </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pList</em>&nbsp;</td><td>a list of valid sources </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01383">1383</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsmdefs_8h-source.html#l00108">DS_INFO::bOpen</a>, <a class="el" href="dsmdefs_8h-source.html#l00118">DS_INFO::DS_Entry</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00109">DS_INFO::Identity</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsm_8cpp-source.html#l00090">kLOG</a>, <a class="el" href="dsm_8cpp-source.html#l00096">kLOGERR</a>, <a class="el" href="dsm_8h-source.html#l00051">LOADFUNCTION</a>, <a class="el" href="dsm_8h-source.html#l00050">LOADLIBRARY</a>, <a class="el" href="dsmdefs_8h-source.html#l00076">MAX_NUM_DS</a>, <a class="el" href="dsmdefs_8h-source.html#l00116">DS_INFO::pHandle</a>, <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>, <a class="el" href="dsm_8cpp-source.html#l01465">SupportedMatch()</a>, <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>, and <a class="el" href="dsm_8h-source.html#l00052">UNLOADLIBRARY</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01245">scanDSDir()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="eb01f399d5aef68a5231229cc80829b4"></a><!-- doxytag: member="dsm.cpp::OpenDS" ref="eb01f399d5aef68a5231229cc80829b4" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 OpenDS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Opens the Data Source specified by pDSIdentity. 
<p>
pDSIdentity must be valid, but if a null name and id is 0 then open default. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td><a class="el" href="structTW__IDENTITY.html">TW_IDENTITY</a> structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>check this TW_INT16 cast to ensure we are not losing data. </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00868">868</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00108">DS_INFO::bOpen</a>, <a class="el" href="dsmdefs_8h-source.html#l00141">APP_INFO::CurrentState</a>, <a class="el" href="dsmdefs_8h-source.html#l00118">DS_INFO::DS_Entry</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00091">dsmState_Open</a>, <a class="el" href="dsm_8cpp-source.html#l01195">GetDSFromProductName()</a>, <a class="el" href="dsm_8cpp-source.html#l01576">GetMatchingDefault()</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsmdefs_8h-source.html#l00142">APP_INFO::OpenSource</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, <a class="el" href="twain_8h-source.html#l00359">TW_IDENTITY::ProductName</a>, <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="92959e187d12b1470d7899c6498c8fc9"></a><!-- doxytag: member="dsm.cpp::printReturnCode" ref="92959e187d12b1470d7899c6498c8fc9" args="(const TW_UINT16 rc)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void printReturnCode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>rc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
prints to stdout return code information. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rc</em>&nbsp;</td><td>the ReturnCode to print </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01839">1839</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00072">gpLogFile</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="868b0320392455cc6766e14d2c7bab12"></a><!-- doxytag: member="dsm.cpp::printTripletsInfo" ref="868b0320392455cc6766e14d2c7bab12" args="(const TW_UINT32 _DG, const TW_UINT16 _DAT, const TW_UINT16 _MSG, const TW_MEMREF _pData)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool printTripletsInfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT32&nbsp;</td>
          <td class="mdname" nowrap> <em>_DG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_DAT</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_MSG</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const TW_MEMREF&nbsp;</td>
          <td class="mdname" nowrap> <em>_pData</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
prints to stdout information about the triplets. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DG</em>&nbsp;</td><td>the Data Group </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DAT</em>&nbsp;</td><td>the Data Argument Type </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>the Message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pData</em>&nbsp;</td><td>the Data </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>return true if actualy printed triplet </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01775">1775</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00072">gpLogFile</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="108aa28bfe9128ab27d8e5e3fc3aebaf"></a><!-- doxytag: member="dsm.cpp::scanDSDir" ref="108aa28bfe9128ab27d8e5e3fc3aebaf" args="(char *_szAbsPath, pTW_IDENTITY _pAppIdentity, pDS_LIST _pList)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int scanDSDir           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>_szAbsPath</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structDS__LIST.html">pDS_LIST</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pList</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Scan for Data Sources. 
<p>
Recursively navigate the TWAIN datasource dir looking for data sources. Store all valid data sources in _pList upto a maximum of MAX_NUM_DS data sources. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_szAbsPath</em>&nbsp;</td><td>starting directory to begin search. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>the application requesting scan. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>_pList</em>&nbsp;</td><td>list of valid Data Sources found in directory path. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>either EXIT_SUCCESS or EXIT_FAILURE. </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01245">1245</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="dsmdefs_8h-source.html#l00071">kOUT</a>, <a class="el" href="dsm_8cpp-source.html#l01383">LoadDS()</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsm_8h-source.html#l00055">SNPRINTF</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01226">LoadAllDataSources()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="bd3b2b927edd91b7596dadebeece0129"></a><!-- doxytag: member="dsm.cpp::SelectDlgProc" ref="bd3b2b927edd91b7596dadebeece0129" args="(HWND hWnd, UINT Message, WPARAM wParam, LPARAM lParam)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">BOOL CALLBACK SelectDlgProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hWnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>Message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>WPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>wParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>LPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>lParam</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Select DS process for dialog to allow user to select default DS. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hWnd</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>Message</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>wParam</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>lParam</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if message is handled </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01000">1000</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="dsm_8cpp-source.html#l00990">g_pSelectDlgDSList</a>, and <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="504a3e9d86dba3333f8c32f9f6d10a4b"></a><!-- doxytag: member="dsm.cpp::setConditionCode" ref="504a3e9d86dba3333f8c32f9f6d10a4b" args="(pTW_IDENTITY _pAppIdentity, TW_UINT16 _ConditionCode)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_BOOL setConditionCode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>TW_UINT16&nbsp;</td>
          <td class="mdname" nowrap> <em>_ConditionCode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
sets the condition code for the application. 
<p>
If the application cannot be determined, then the global condition code is set. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>The application identity </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_ConditionCode</em>&nbsp;</td><td>The condition code </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if the condition code could be set. </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01740">1740</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsm_8cpp-source.html#l00398">_gConditionCode</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00140">APP_INFO::ConditionCode</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsm_8cpp-source.html#l00090">kLOG</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsm_8cpp-source.html#l02747">StringFromCC()</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00948">CloseDS()</a>, <a class="el" href="dsm_8cpp-source.html#l00805">DSM_Callback()</a>, <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>, <a class="el" href="dsm_8cpp-source.html#l01520">DSM_GetFirst()</a>, <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>, <a class="el" href="dsm_8cpp-source.html#l01851">DSM_Null()</a>, <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>, <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>, <a class="el" href="dsm_8cpp-source.html#l00616">DSM_Status()</a>, <a class="el" href="dsm_8cpp-source.html#l01168">EntryDS()</a>, <a class="el" href="dsm_8cpp-source.html#l01576">GetMatchingDefault()</a>, <a class="el" href="dsm_8cpp-source.html#l01383">LoadDS()</a>, and <a class="el" href="dsm_8cpp-source.html#l00868">OpenDS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="9e58b44743cbac1b1fecb7f264eb91d5"></a><!-- doxytag: member="dsm.cpp::StringFromCap" ref="9e58b44743cbac1b1fecb7f264eb91d5" args="(const TW_UINT16 _Cap)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string StringFromCap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_Cap</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Translates the _Cap passed in into a string and returns it. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_Cap</em>&nbsp;</td><td>the TWAIN Capability to translate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a string that represents the _Cap </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l02185">2185</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8h-source.html#l00055">SNPRINTF</a>.    </td>
  </tr>
</table>
<a class="anchor" name="893e676872a5110b8ecbff84fa6e99a2"></a><!-- doxytag: member="dsm.cpp::StringFromCC" ref="893e676872a5110b8ecbff84fa6e99a2" args="(const TW_UINT16 cc)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string StringFromCC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>cc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Translates the cc passed in into a string and returns it. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cc</em>&nbsp;</td><td>the TWAIN Condition Code to translate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a string that represents the cc </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l02747">2747</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8h-source.html#l00055">SNPRINTF</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="0f66379c704db754860b72a7a8df5e81"></a><!-- doxytag: member="dsm.cpp::StringFromDat" ref="0f66379c704db754860b72a7a8df5e81" args="(const TW_UINT16 _DAT)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string StringFromDat           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_DAT</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Translates the _DAT passed in into a string and returns it. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DAT</em>&nbsp;</td><td>the TWAIN data argument type to translate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a string that represents the _DAT </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01925">1925</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8h-source.html#l00055">SNPRINTF</a>.    </td>
  </tr>
</table>
<a class="anchor" name="620e15d5ff1c8c596e563ef4d2c7de6a"></a><!-- doxytag: member="dsm.cpp::StringFromDG" ref="620e15d5ff1c8c596e563ef4d2c7de6a" args="(const TW_UINT32 _DG)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string StringFromDG           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_DG</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Translates the _DG passed in into a string and returns it. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_DG</em>&nbsp;</td><td>the TWAIN data group to translate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a string that represents the _DG </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01902">1902</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8h-source.html#l00055">SNPRINTF</a>.    </td>
  </tr>
</table>
<a class="anchor" name="64a0f7db2839cdeaff166583d31b7996"></a><!-- doxytag: member="dsm.cpp::StringFromMsg" ref="64a0f7db2839cdeaff166583d31b7996" args="(const TW_UINT16 _MSG)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string StringFromMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_MSG</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Translates the _MSG passed in into a string and returns it. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_MSG</em>&nbsp;</td><td>the TWAIN message to translate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a string that represents the _MSG </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l02064">2064</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8h-source.html#l00055">SNPRINTF</a>.    </td>
  </tr>
</table>
<a class="anchor" name="84fe3ba26a0fc001597b1ae82769de97"></a><!-- doxytag: member="dsm.cpp::StringFromRC" ref="84fe3ba26a0fc001597b1ae82769de97" args="(const TW_UINT16 rc)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">string StringFromRC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TW_UINT16&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>rc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Translates the rc passed in into a string and returns it. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>rc</em>&nbsp;</td><td>the TWAIN Return Code to translate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a string that represents the rc </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l02696">2696</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8h-source.html#l00055">SNPRINTF</a>.    </td>
  </tr>
</table>
<a class="anchor" name="25fb28d12b903479535515387adde5d0"></a><!-- doxytag: member="dsm.cpp::SupportedMatch" ref="25fb28d12b903479535515387adde5d0" args="(pTW_IDENTITY _pAppIdentity, pTW_IDENTITY _pSourceIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_BOOL SupportedMatch           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pAppIdentity</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>_pSourceIdentity</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
returns TRUE if the two identities support the same groups 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>The applications identity structure </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pSourceIdentity</em>&nbsp;</td><td>The sources identity structure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if the two match, FALSE if they don't </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01465">1465</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="twain_8h-source.html#l00356">TW_IDENTITY::SupportedGroups</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01383">LoadDS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="7c841b1d9a57e77b22a2aaf5a78815f2"></a><!-- doxytag: member="dsm.cpp::UnLoadAllDS" ref="7c841b1d9a57e77b22a2aaf5a78815f2" args="(pTW_IDENTITY _pAppIdentity)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 UnLoadAllDS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>_pAppIdentity</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
UnLoads a DS from disk to remove them memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>_pAppIdentity</em>&nbsp;</td><td>Origin of message </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a valid TWRC_xxxx return code </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l01482">1482</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
References <a class="el" href="dsm_8cpp-source.html#l00414">_gApplications</a>, <a class="el" href="dsmdefs_8h-source.html#l00157">APP_LIST::AppInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00108">DS_INFO::bOpen</a>, <a class="el" href="dsmdefs_8h-source.html#l00118">DS_INFO::DS_Entry</a>, <a class="el" href="dsmdefs_8h-source.html#l00130">DS_LIST::DSInfo</a>, <a class="el" href="dsmdefs_8h-source.html#l00024">FALSE</a>, <a class="el" href="twain_8h-source.html#l00352">TW_IDENTITY::Id</a>, <a class="el" href="dsmdefs_8h-source.html#l00109">DS_INFO::Identity</a>, <a class="el" href="dsmdefs_8h-source.html#l00066">kIN</a>, <a class="el" href="dsmdefs_8h-source.html#l00081">MAX_NUM_APPS</a>, <a class="el" href="dsmdefs_8h-source.html#l00128">DS_LIST::NumFiles</a>, <a class="el" href="dsmdefs_8h-source.html#l00143">APP_INFO::pDSList</a>, and <a class="el" href="dsmdefs_8h-source.html#l00025">TRUE</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="989913391daf6f2242bea3fad4e74cfa"></a><!-- doxytag: member="dsm.cpp::_gApplications" ref="989913391daf6f2242bea3fad4e74cfa" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structAPP__LIST.html">APP_LIST</a> <a class="el" href="dsm_8cpp.html#989913391daf6f2242bea3fad4e74cfa">_gApplications</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A global list of application using this DSM. 
<p>
Each application's info and status is stored here. With 32bit each application would have its own copy of the DSM data space but with this list it allows One application connect several times to control several scanners at the same time as long as it uses a different name with each connection. 
<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00414">414</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01656">AddApplication()</a>, <a class="el" href="dsm_8cpp-source.html#l00948">CloseDS()</a>, <a class="el" href="dsm_8cpp-source.html#l00805">DSM_Callback()</a>, <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>, <a class="el" href="dsm_8cpp-source.html#l01520">DSM_GetFirst()</a>, <a class="el" href="dsm_8cpp-source.html#l01545">DSM_GetNext()</a>, <a class="el" href="dsm_8cpp-source.html#l00755">DSM_Identity()</a>, <a class="el" href="dsm_8cpp-source.html#l01851">DSM_Null()</a>, <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>, <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>, <a class="el" href="dsm_8cpp-source.html#l01168">EntryDS()</a>, <a class="el" href="dsm_8cpp-source.html#l01694">findApplicationByName()</a>, <a class="el" href="dsm_8cpp-source.html#l01715">getConditionCode()</a>, <a class="el" href="dsm_8cpp-source.html#l01195">GetDSFromProductName()</a>, <a class="el" href="dsm_8cpp-source.html#l01576">GetMatchingDefault()</a>, <a class="el" href="dsm_8cpp-source.html#l00868">OpenDS()</a>, <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>, and <a class="el" href="dsm_8cpp-source.html#l01482">UnLoadAllDS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d7b7de190f95ab3def7bbb0286eb13e5"></a><!-- doxytag: member="dsm.cpp::_gConditionCode" ref="d7b7de190f95ab3def7bbb0286eb13e5" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_INT16 <a class="el" href="dsm_8cpp.html#d7b7de190f95ab3def7bbb0286eb13e5">_gConditionCode</a> = TWCC_SUCCESS          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the non-application specific condition code. 
<p>
It is set when something bad happens and the application making the call is uknown. 
<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00398">398</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01715">getConditionCode()</a>, and <a class="el" href="dsm_8cpp-source.html#l01740">setConditionCode()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="60f4da5c3d0621d10645495de11c2f1f"></a><!-- doxytag: member="dsm.cpp::_gDefaultDSName" ref="60f4da5c3d0621d10645495de11c2f1f" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_STR32 <a class="el" href="dsm_8cpp.html#60f4da5c3d0621d10645495de11c2f1f">_gDefaultDSName</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The name of the default DS. 
<p>
The Default DS is identified when the DSM is opened. A new Default is saved is SelectDlg is used. 
<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00426">426</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01576">GetMatchingDefault()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="6bc385ca03d3f2a27e1376c1d67a7aaa"></a><!-- doxytag: member="dsm.cpp::_gDefaultDSPath" ref="6bc385ca03d3f2a27e1376c1d67a7aaa" args="[MAX_PATH]" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char <a class="el" href="dsm_8cpp.html#6bc385ca03d3f2a27e1376c1d67a7aaa">_gDefaultDSPath</a>[MAX_PATH]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The path to the default DS. 
<p>
The Default DS is identified when the DSM is opened. A new Default is saved if SelectDlg is used. 
<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00420">420</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01576">GetMatchingDefault()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="9d5668b97fc31481bdac668eecb545d6"></a><!-- doxytag: member="dsm.cpp::_gFrameworkInitialized" ref="9d5668b97fc31481bdac668eecb545d6" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">TW_BOOL <a class="el" href="dsm_8cpp.html#9d5668b97fc31481bdac668eecb545d6">_gFrameworkInitialized</a> = FALSE          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A global status indicating frameworks status. 
<p>
True if the framework has been initialized. 
<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00404">404</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00490">DSM_Entry()</a>, and <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d862616a9d73ac0c177071dffa299d8b"></a><!-- doxytag: member="dsm.cpp::g_pSelectDlgDSList" ref="d862616a9d73ac0c177071dffa299d8b" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structDS__LIST.html">pDS_LIST</a> <a class="el" href="dsm_8cpp.html#d862616a9d73ac0c177071dffa299d8b">g_pSelectDlgDSList</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>The</em>&nbsp;</td><td>list of DS to display </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00990">990</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>, and <a class="el" href="dsm_8cpp-source.html#l01000">SelectDlgProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="3d2dcae4d0d8e6e3f09a2248b643cce8"></a><!-- doxytag: member="dsm.cpp::g_pSelectDlgSourceID" ref="3d2dcae4d0d8e6e3f09a2248b643cce8" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structTW__IDENTITY.html">pTW_IDENTITY</a> <a class="el" href="dsm_8cpp.html#3d2dcae4d0d8e6e3f09a2248b643cce8">g_pSelectDlgSourceID</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>Default</em>&nbsp;</td><td>DS is passed in and the selected DS is passed back. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00989">989</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l01079">DSM_SelectDS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="05d5448e7ae3f9f6ff48b76c39825715"></a><!-- doxytag: member="dsm.cpp::gOurPid" ref="05d5448e7ae3f9f6ff48b76c39825715" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">DWORD <a class="el" href="dsm_8cpp.html#05d5448e7ae3f9f6ff48b76c39825715">gOurPid</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Global pointer to store PID. 
<p>
Stores the current PID or ThreadIDGetCurrentThreadId. Used when writing to log file. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="dsm_8cpp.html#a72b5d2715fa48220edcbb894df6b463">kLOG</a>, <a class="el" href="dsm_8cpp.html#4af57f29119205f8a40cd631d3a7e032">kLOGERR</a>, <a class="el" href="dsm_8cpp.html#e62b35eda4fad54b1928fa578b3aa9c2">kLOGENV</a> </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00080">80</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00833">DSM_InitializeDSM()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="3a3b3b82c0c7bbe0d217661778f5bdaf"></a><!-- doxytag: member="dsm.cpp::gpLogFile" ref="3a3b3b82c0c7bbe0d217661778f5bdaf" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ofstream* <a class="el" href="dsm_8cpp.html#3a3b3b82c0c7bbe0d217661778f5bdaf">gpLogFile</a> = 0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Global pointer to logfile. 
<p>
Logfile is used to give feedback. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="dsm_8cpp.html#a72b5d2715fa48220edcbb894df6b463">kLOG</a>, <a class="el" href="dsm_8cpp.html#4af57f29119205f8a40cd631d3a7e032">kLOGERR</a>, <a class="el" href="dsm_8cpp.html#e62b35eda4fad54b1928fa578b3aa9c2">kLOGENV</a> </dd></dl>

<p>
Definition at line <a class="el" href="dsm_8cpp-source.html#l00072">72</a> of file <a class="el" href="dsm_8cpp-source.html">dsm.cpp</a>.
<p>
Referenced by <a class="el" href="dsm_8cpp-source.html#l00833">DSM_InitializeDSM()</a>, <a class="el" href="dsm_8cpp-source.html#l00643">DSM_Parent()</a>, <a class="el" href="dsm_8cpp-source.html#l01839">printReturnCode()</a>, and <a class="el" href="dsm_8cpp-source.html#l01775">printTripletsInfo()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 26 11:40:58 2006 for Twain_DSM by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
